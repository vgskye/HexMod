// Configuration for devcontainers. Allows using GitHub Codespaces to develop and test
// If you're using codespaces a lot, this config will make prebuilds do part of the project sync
// noVNC is available for runClient; should be visible under ports on IDEA
// Minecraft mouse input is finicky with noVNC here; setting sensitivity very low and turning raw input off helps
{
	"image": "mcr.microsoft.com/devcontainers/java:1-17-bullseye",
	"features": {
		"ghcr.io/devcontainers/features/java:1": {
			"version": "none",
			"installMaven": "false",
			"installGradle": "false"
		},
		"ghcr.io/devcontainers/features/sshd:1": {},
		"ghcr.io/devcontainers/features/desktop-lite:1": {}
	},
	"updateContentCommand": ["./gradlew", "ideaSyncTask", "prepareKotlinBuildScriptModel"],
	"forwardPorts": [6080],
	"portsAttributes": {
		"6080": {
			"label": "desktop"
		}
	}
}